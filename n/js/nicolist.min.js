var STAR_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVQ4jbWSPUtcQRiFn5m7Gw1W22gKPzBZQgIhojbWaZSQSvBjN/4Fq9hIIGKqqIWdoIWVGqysbERII7sQ7UQwATWwRQJREVbEXGfmpBDCZpe7YOHAKWbmzPO+Z2bgPodmGXcfydfzpOoSXjAS/eEMWLt79TwZ7SPt4ZWlIclnEwnPGeUp8AzrRxi8O6CbHA+AJoh6yCXZjKbo4zFLoY3YCoOwBCBLF60gMOYEH35wYCMMBkMKwxGNfOf1bd5PDOsr1xKSQ7pBiit0UyGHVKCsafr/a0VjNPvP7OgU+TLB/Sa4nwT3i+BOCf6KoDOkVb4oTyYxumb44PZQ/I1QKVdEmmOy2l/7D8ochhQEVd8WROcUqu01rxCekNfD2wP2AmMvMRhQBujgbV2Aekn7Zt5gITrGpbfIpbcZj0oYLLhHDCdmB9A0Q/Eucisc6h2d/9YneOnWKcVFpPe8SgbMs+kXWBaYmr0BGvwiG36OlWTAJC11WwQ0RXvl/C8G2bIkQqHCOgAAAABJRU5ErkJggg==",UNSTAR_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVQ4jZ1RMWsUQRh9726JP8DO4q4y+AtU0IBNSKloEWKIMLMDh4VNiPWyIGlSSDq5Y7/JFVG5QgVBEEVBiDYKQgpJeX0g1TW77HwpvCOXc29FXzXzvfe9730zQA2SJGnU8QBQK2i1WrsiktRpojqS5BUA4b8SZFl2jeQBgKNut7v4zwYkN4qieK6q+1EUPahLUQkR+Vx1nkUkIpsAtgB8BXABAFU1ArA3leaViLwjWQJQVc0BrKiq4XjCEwCXrLX2b8kGg0FzNBrtl2X5wzm3wwnhvb+uqk9DCI+cc9+rmnu93tVms7lL8qEx5icAcFqQJMlCu91+CcBba9/OvMkqyXt5nq93Op1iUj/3C2ma5gAOQwjHFQEKAJ+mm/8wGGPJOfdtPPW29/4WAAyHwzchhDuz4nMGInKZ5C8A8N4/I3kTwEaWZdtpmgaSJ/1+/+JcA1VdU9UD7/0XVX1tjHlsjIkBHIrIB1X9WJbl2lyDRqNxn6TJ8/yutfb9pB7H8YuiKGKSDsB6xdq/4b2/MZc8W3N5+n4KbVypv8PDMtkAAAAASUVORK5CYII=",LARGE_STAR_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADl0lEQVRYhdWXXWgcZRSGn/PNzKaxsWk20WJWK7alYOmPf+CV4KVgSEqapJvgDyiIYG+8EMSb6IV45Z0WCr0QQSyJ2WwIothS9bIiSFNIrW2jMcEqFetfzf7MnONFdpOJ3U02u5riCx8z8/Gd932/98wMM/B/xqfD+DfVgE2QibK83giHq1t8GF+bedwFDN4UAxyg26VI0ME9+RMc2HgDQppOIAV+QLpunnrw5XMEdpKcGmYhFk3y3YYasAy9dg4zQ81QO4PlT/BAPVz1tUAYJBW7TkEi0djNWDPsGIF9Ql4tlkCERZPM1cO37gTCdrrpJCFgMRZz27izMMpD/7kB35FeEX8ZKQj89bfBt2MEegdvOiNUxWGIA0FwgMNwKjgniCrQQpe1gkTEM8BuAwl42jK0KngIUt6dsniuhjgHJe6C9PCMANgE79HEEPuB4B8WpaxQOjSDNMWlY/gLoRCrEVZm7IDrwFmICrzi9/BGeSmWpY9NvMODbKYjJqAl8cqStcGVxjyiZ7niChyUXr6I72/RxBi3q8cHbgeP2F4QxRoSLvMqIlPAHGOEPCkDLKxekOElO43Zr5iFqBVXjiiPRrnSyKNWuHGNFVELUfsFs5MUbZxnK2lJpUmA/Aj7/E2Muz3s1O2YFcFCIASLt6WckAPxQQKQBDgPmEH4mvPk6JYBLq3LAIAN47iPty3J89FuzBy13QsR+DOIXeWo18uR1apWNbBkZIwXtJO3wh0YGpuvROQgmEbkGkPSy/trcdf2InLcrVsWozdbHvE2LM0raAtE4NVGXQt80rqV2uI30HbwHEP/ioH8KPdrK3eZqyAvVGyiNoPewmP2LpsbNpAIOKxJbti9GBJcRvx5pIIJszYkaqGvYQPqcVjb4srgFhB/iqL9xBPePK8F04iEMSPLbVjzU231x3CcfZpkqri79EYU8H5E/DnOU6BL+pgBKI7yqGtmTHeSjLYurZXgHPbzN2zZdoQ/60pAjbQmS04VCS4g/izHX+1mb1kcIOjnsz9+Y5d/gdP+7HIOlkTaOzm0VgrVE5jkYv4HrHAJiz5iwTL0r1mT5WU9heVnscK3mGX5uC7x3Ah7os+x4ldYNMGUjbC91trCKA/bJFeK01h0Crt6nFurra3agqYmBuV3cLMc9XrYLwN8X6uBRD9nuMYud5EPJQdtHdWfhqo/l5FQ9JRD7iCZWoXjkKe4DnSFWV4U4d56ODYEfwM1wpRyzU0yVAAAAABJRU5ErkJggg==",LOOP_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEIklEQVRYhe2WT2hcVRTGv3PvPJ0OJkEXHUQXJrZRGiYoQi2CzsIiQUycJLwZNRrBZtOA0KXtLhW7srpzI120qOC8TCaFKQScCtFF6cIWJMlALEIjNCa1U9KEQfLuPcdF3ivPOJ38m509q/d499zv9+4997sHeBj/96Bd5GjXdQ8R0YsAUgAOArgFYAZApVqtXiuXyytNB+jv73/ScZxTAIatta0AQEQg2phCRCAiiMViEJHL1tqxQqHwc1MAXNc9TkSfM3NCa/0vQRG5D6GUAgAwM5gZWuvztVpttFQq1XYF0NPT82hbW9s5Y8xQLBa7P7mIQCm1AOAKgAUAMQCdAF611rZqrUFEsNZCKXVTRI56nndjxwC5XO6bqLgxBlrrS9baTwuFwtU6Kcp13RwRnWHmZ7TWYGYQ0R3f91PFYnFx2wCu6x5n5q+CPQUAX0Q+8Dzv+0bQAJBOp2PJZPKCtfbdWCwWQlzN5/NHtgUQFNwNIkoAgIgYAK/n8/mfthKPRjab/ZaZ39NawxgDpdSI53nnomNUvUTHcU4xcwLYWHYRGd2pOAAsLS19qJT6XUQQ1MUZbPrpegAawLDWGkHiL57nfb1TcQCYnp42zPyJtTYsyv2Dg4P9DQFc1z0UnvOg4s/uRjyM8fFxT2tdDU4OtNZ9DQECh9v4qJRZXV29tBeAIH6I+MXhhgAAUkQUmsxvU1NT9/aqLiLXIwAHEKmDegAHQwAi+mOv4kHcDR+Y2clkMs83ArgFbPi8iDjNUKfQq4N5Hcf5qxHATGA8IKLOZgAAeBZAuKrLnufdbgRQiezXU67rHtiNYl9fX0vk9TWlVOioM9Fx/wGoVqvXNl08wzsVz+Vy5+Px+L1sNvtxJpPpJKLDYV0BKDcEKJfLKyJyObhOoZQ60dvbm9yB+BvGmOFgFV9xHGeMmQkAlFLi+/7WVmytHWNmAICItOzbt+87bLN3EJEvAnCICBPRO0opWGsB4EKxWFyOjtf1JqlUKgupVKqdmV8IrtT2rq6ulzo6Oi7Oz8/7DxLPZrMj1tpjQdOySkTdRKQDF1wTkbfn5ubWtlwBAKjVaqNKqZvhVojIW4lEYmZgYGCw3vh0Oh0H8FnYMQFoAfAIAFhrYYx53/O8PzfnPRCgVCrVROQoEd0JIQC0K6XGs9nsguu6H0XHJ5PJk8y8P3LkASC80E4XCoWL9XS23NegNyhaa18OWy0RATPDGPPc5OTk/NDQUKvv+0tEFN+cLyJ3ReQKES2KyMmoBzRcgTCKxeJiPp8/opQaAbAc9AfhkdIAsL6+/rQxJh5tVEMzA/A4gDd93z9GRCc2z1+3COvF3Nzc9dnZ2bPd3d2/Algjoi8nJiZ+DL7dTqVSjwF4AsAKgBqAvwFYAKKUIqVU1Vp7ulKpNOt+eRjNiX8AU0QYjp7wU7cAAAAASUVORK5CYII=",NOT_LOOP_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE/klEQVRYheWWTWxUVRTH/+fembZSGKILKmhMMBhMysKNH0BrTTRxYozJGO4dxMAG1FgViQlRiAs/ojEGkGhMDAYXLIhz3wytVEijDVFZqImGENviFwtSFS1gW2dR0nn3HBe8h6+vM4MYw0LPaua9c87vf+8995wH/N+NriTMGPMEEW0FcNg513tFBRhjnmXm17TWCMMQbW1t1+zfv3/isgXk8/nW9vb2lVrrLgBLAXSIyCQRjQEYnp6eHhoYGPitHjyTyYCZQURjzrkbgMvYgUKhsDibzW4HsMF7nyMiEP0VLiIQEWQyGYjIESJ6oVQqHTXGbGXm16PnIKJxZl4dBMGPf1uAMeZxItrBzPO01rOAUVIAgFIKAMDMEBEopT4VkR6lVOx3hplXxfBLCsjn8625XO497/26TCaTTn4KwBcicoqIsgBuAnCn9z4X+8biRAQAxkVkdRIOAJlmAtLwMAyhtT7EzC87576sE6KMMWsA7AGwMN6Z6NwfSsObCrDW9sbwaCUzSqkNzrlSE81MREtEZGGyPpRSIKJXAKxMB+h6WQqFwmKt9Yda62z0KARwTxAEh5vAYYx5hpl3aa1nbT8RIQzD61esWPHT6OjosWSMqpcom81uZ+Z5wIVtF5Fe59xnzeDW2i3MvDPeMQDnROQWACdFBFprENGrSNXdHAH5fL4VwIZ4FVrrr4IgePdScO/9Gyn4aufccWbe5r0HEcF7v6hYLBaaCliwYMEd3vsccLHidzWDF4vFp5NwIvo9qvbvAKBcLgda63PRzYGIPNBUgFKqK3Gvw2q1eqgZPAzD3Ul4rVa7CE/YUKJf3NZUgIgsjYtHRH4YHBz8ox7cGFMXfuDAgW/r5DyWELDMGNPSUACAjigIUX+fY9bap0Rkd+LMJwB01YNHNhH/YOYsM9/cTMAkgPgKZdMvjTFPMvObcZECmBSRrlKpdKIBHJRoCkSEWq12tqEAERmLEgPA8jRcRN5KwCeighttBI9sWZQbRDR+8ODBXxoKADAcnxcRLTHGLAMudMYUfNJ7390Ins/nc4m/3fFAAjCc9JvTisMwHGppaREAxMxQSj1sjDnNzG+n4F2VSmWkHtxau09E1ltrN58/f/4jIroduHCtlVIfJ33rTkNr7ZCI3B2N12kRuSrRVqdmZma6+vr6hhvE3uu9H1RKQSn1PjMDwNpoB0REOoIgOBP7123F3vsXE3UwC87M3Y3gke3UWsdNh4lorVIK3nsA2JeENxRQqVSOaq2HEiIAAMx8fxAE3zQiW2s3ee87o6KvEtGaWLxSqioiz6Vj6k5Da+1jADYnRyoAENFdnZ2dP4+MjMy5cj09PW3z588fUEq1R3GtcX7vPUSkWC6Xv07HzdkBY8yjzPxOrDwKjrvYjcxcttaOGWM2JuM6Ojq2MfOitOho9S9VKpUP6i12lrcx5hER2ZOY51Misg7A8977ldFIhYiAmRGG4fL+/v7vjTELiehXImpLA0Rkgog+F5HTIrKtYQ1Ya29NwgFURaTHOXfYObdKKbUJwHj0fRD7xEd4XRiGbckP1UT9XM3M99VqtY1EtKXhEYhIPl4ZgCqAbufc8fh9EAR7nXPXKqUeJKK9Sqn1/f39J6J3o5lMZgeAEwBOAhgDMA5gioimiSjMZrNnvfdzJuvFIzDGLCWiTwBM12q1Yl9f3/G08z80MsaoIAj8v5TvP2Z/An2SEK7JPoIZAAAAAElFTkSuQmCC",WIDEN_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFZklEQVRYhe1WXWgcVRT+zp3pZptmk9B2GxchaAzJQmhRBINg8S/YVkTfbDckFioEoQq+ak13t1j/Kr4UIywUCulCXFa21oIFqw99qXkQKXbphlisNXatIcJu2zU/c+/nw85sp5Ok8alPPS9z586Zc77znXPPPcB9uS/3WEiK/11yuZxVKBS6AHQZY5T3QSklJEVEGNz31v59EVEiQpLiOfHb8PaVUgbA9Ugk8ksmk6nI4ODgVsdxPhCRPgAagLMKeAFA97lmlJ5TF1xwPaeUmohGoxnbcZxtIrKN5CYRmQdwy+eIazlbwflt7+6TpMeSAFgPoJ3ky3Nzc6dsH4ULAC6SPA9Ae1STNJ4tH5XGfVckjc+/ERHPkfF8iohnQ5EcEJFuAFu01g/aqNO+4Br9vr29/aNYLKaDkfX19cnk5GS4paVFA1hcKfpyuRyORCLS398/XywWl7FXLpetSqXSBKATQEgp1W4rpYwxhi4LTiwW0+l02h8VksmkKhQKjxtjnhKR3zZu3Pjd2NjYTb9OIpHYTHJnpVLZUi6Xf8hmsxdEhAE7qFarNTctimSz8h+L4BFxf7KnpqZeMMZ8SDJB8sVqtRoN6mmtO0nuBDCktT6cSCSeSCaTKqjnppRumtYpd71iZSeTyVCpVHrVGDMKoEdE2gDUmpqaKkFdEZl1i7id5FaS709PTz+dy+WsIFavNo0x9M4uXboa1I+MjDSXSqVBAG+LSCfqeZ+0bXvs2LFj/wQBTExMzAD4HMBFETEAerTW7xYKhYEAiEawIqKU20DEz8TIyEhztVp9DcCbAGIA5gF8GwqFDmSz2amV2BIRTkxM/GxZ1gER+RGAJtlrjHnn5MmTz/pAePVWb0xuXugrmFC1Wn2d5H4ADwC4CeC0bduHx8fHr67k3C/ZbPaiZVmHROS8iDgAuh3HOVgoFAYAKH9higiVdwJcIOby5csxkjsAdACwAJwJh8MfZ7PZ8lrOPaMnTpy4ZFnWIQAXAIRE5GGt9UszMzOtAd1lKVAk5wH86zYYArCUUsv6wlogHMepicgN3Kaczc3Nd7T5Rgp8G+zu7p4VkXERuYp6k9pVq9VGh4eHO/8vgN27dz9E8j2ST6JevFcAfL19+/Zbrs0G0OApIADT29t7hmQGwHUAYQC7FhcXR13Dq15GJCWRSMQBHATwPIAwyT8BfNHW1nauWCySZCNoY4xSxhjl6wMCAOl0erGjo2McwGcAZlwQzwEYHR4efuQuzh81xhwC8AyAEIA/LMs6Eo/H85lMZslT9fsKVmWjDxw9enQhHo/nARwB8DsAG0D/0tJSYmhoaEMQwL59+zYbY94A8BgAS0SmlVKfRCKRU+l0ehEAUqmU12s8trGsVfolnU4vtrW1fQPgCMkigGvugBIK6tZqtQ0i4pD8G8AFy7LSPT09p32RI5VKeb1G6vGKst3Kb9AYNJzJZJZyudzpfD5/BUCPMeZSb2/vslYcj8evTU9Pf2mMOS8ik9ls9tfgZZRKpZhIJDwGAACyZ8+ehDEmhfr1mGltbf10YGDAAECxWGRfX18DVDQaldnZ2VWHlGg0KgCwms7Zs2dVpVJ5C8B+1FNx2Ca54J6E9SR3VCqVTfl8Xjz0pVJJeSONf9IB4A0mXhrvGNf8Ixhup1oAbAPQQvKGUkrZSqkZrfUc6rdYHECXa2BZBL5ULdtrUOqC9H/337Yk14mIJSK3SM7ZlmUVjTFfAXgFwCY3sgYDq63vJq6O5/SOtfvthoicsyzrJwGAvXv3hh3H6SK52V+I/tnS29NaN9ZKKa6kq7WmZVmitaZSisYYUUrRbe9aRG6GQqG/jh8/vqyY78s9l/8ALHgpReHZ3pAAAAAASUVORK5CYII=",NARROW_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFKUlEQVRYhe1WTWxUVRg95775gUppBUukCNaG0CYEtorGTTHBGMJP6YahpLrpVsICI0FHElOJMeJGks6qwgRsDSmBGIOkC0hIidGVGGaiUQIqbUhLZ6CVYd69x8W8V17H/iCJrvg273v33XfP9537ne9e4Ik9sf/ZJDH6zoGBAW9wcLAZQLNzzoQfjDGURJKqHg/96DhJQ1KSGIJE1wjHjTEOwGhtbe2PmUymwFQqtcH3/R6S6wFYAP4cwROAgueCWYagQXDV/pgx5suGhoZMzPf9jSQ3SlpO8j6AyQiQFgKbBfwhevCUFLJEAIsB1EvaNjY2djYWobAE4KqkYQA2pFqSC9eKUOmCdyPJRfAdyRDIhZgkwzWMpNdIrgWwwlq7KoYK7aVg0aH6+vojAOIA4itXrpwMFnpsW79+PYeHhxNLly61t27dUqFQSAJYAyBhjKmPGWOcc04BCz6AmmKx+IaktcVi8XJLS8ulw4cPz1UX81o6nTZnzpzZIOnlkZGR642NjReLxeJUsC1GUo2JykISp6amlgHYDGCHpHQul3u9u7s7/hjgsXw+v9la+7Fzrstau310dHRFsKWV/TAmYQJ/OgjP8+5IGpO0BEAzgIMTExO7/k0Q3d3d8Vwut9M5956kVgDLADwgWQRgw9r0fd+F2hVJAXBNTU1Fz/N6SV6WVAKwGsC+QqHQnk6nEwuBd3V1LZqYmNgFYD+AJpI+ye9IHmtubr6DiIxJGhM0EEaZOHny5K+JROIDkucllUiuArAvn89vmy+Irq6uRaVSKUVyP4DnADyQdCEWix3q7++/FkwL663SmIBp7c7Q/IkTJ24kk8kekhcA3AewWtKBfD6/Y2BgwKsGT6fTiVKp9KaktwE0SpoieZ7kh9ls9rdI1or6JlRAEMgMyR0/fvyPRCLxEYArABJBVlsHBwefrg4gl8s1StoK4FkABsA3yWSyp7+//+ZcjM22BaZ6kiQvGA/Uo/u1tbXlWdazkvzgHwG4Z629Oxd4MG8m4HTPDKyzs/OFcrmclvRSUAu/AOjv7e0tVi9WV1c3QvIMgNGgS+4ql8sH9uzZs7I60AgDqlbBdAB79+5dUy6XDwJ4FUCS5A2Sn7W2tl6srhcAyGQy5Xg8/hXJLIA7AGpJdvi+fyiVSj0f9htJ00k754xxzplIHyAApFKp5nK5/D6ANklxANeNMT0tLS3n5uuK2Wx2MhaLfQ7gGIARAE9J2mKtTXd2dq4LiY5imaqqdOPj40ustW9JekVSnOQNAJ+uW7fu20dpydlsdrKxsbFP0lEAN0nGAbxord0zPj6+BJWzZZrtfxTd1NTUYpKLJI2T/NkY80ldXd28mVfb0aNH/6qvrx8geQTAVQB/ArClUikRsM1KvoEKwh8lsaamZkLSWZJfGGPe3blz57lMJjNb1c9rmUym3N7e/rWkd0j2AhjcvXv3RIQBAEAMFfkIAI0xplQquba2tiu5XO77TZs2PQCA2RrPo1pHR8e1hoaG3O3bt3Xq1KkZhx8AxAJ5SdJiSVsKhcLyoaEhktTp06cBwITyjN50AIQXk5DBGde16BUMD7eaADYCWCLprjHGxIwxv1trx1C5JrWicgKiqiUgOhb9Vj0vDDL6PXraBoXtkZyUNBbzPO8n59xpANsBLA8yY6iOufz5LJgTgs7wg293SV7yPO8HApVTzPf9ZknPRPcoercMx6y1074xRrPNtdbK8zxaa2WMkXOOxhgFZ40leS+RSIz09fUVFkrmif3n9jcQAx8mizxdVwAAAABJRU5ErkJggg==",PREV_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVRYhe2VP4gTQRTGvzczkgOFCyfEwj+YSosTkRQWJ0YhKS+QxI0WdlqolSBYaKl4hQgKopxYC+5skmZLmwgnNum0THOVsTyOLUxmns0FQjLxstnkRPBX7+z78X1vd4D//GVowe8XnufdBnAVwFet9asDE6jVausA3hhjTggh0O/3QUTFRqPxafg5Ne/BnudliWjTGFOUUkJKyQCglCJmXgOwGIFcLncom80+IaKHzEyDwcMIIcbOzUXA87xrRPTaWnsMAIhobDgAWGvnK1Aqlc6kUql31trLUkoIIZyDB8wtgXw+v5TJZDaI6D4AuOKeltgC1Wr1ppTypbX26KSoJ5GognK5vKqUem+tvUhE+8btYqYKisXi4XQ6/RzAXSKClJKZZ0s8dgKe590iohfMvBw3bhdTJ1CpVM4qpT4YYy4opQAg8fBJOAWUUlvMvJIkbheuCsYyyefzR4wxK6OREy3m2hgTaLVau0KIz8YYwtBlNc8k/igAAFrrK0T0CMAvZl7ole0UAMBBEGz0er2TRPRxNI2Zhzm+gkkCAIBms/nT9/0bANaY+ZsxhijBMky1hC7q9foXrfU5IrrDzDuz1hI7gVGCINjsdrvHAbzdk0heS9wDrVZrV2t9z1q7ysxbcfZj5gpc1Ov171rrSwCuA/hhrd1XJHEFE0T8TqdzCsAzADbufiQWAIB2u90LguBxFEVZIgon1eKSm4vAgDAMt33fX2fmIjN3hmvZ+5PujJ5Z6F+uVqs9APC03+8vKaU4iqLTYRhuL3KmC1Uul88XCoXlgx78b/Abiwj8ZCeQkxsAAAAASUVORK5CYII=",NEXT_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACW0lEQVRYhe2VMYgTURCGZ957QojCcVqksZEUWggiKRQEY5G0gV0yW9lZnF7hWZ0gNlZaKHaKaGflPkOIWqkgEU5sYqOCTao7wVgeQozJzlhcAudm926TbM7m/m4f8/b/3vzzdgH29Z+FUYtEtAIAZwHgnbX2MQDIngG4rlsSkTfGGGBm0FpvAMCy7/sv5wGgxhaUOmeMAUQUrbUAwNEgCF54nveaiI7tBUB4SbTWIiJlRGxXq9U7hULhwNwAmDmyEBEFtiK7ns/n14moOheAiA5slyilBAByzGyJqFmpVI6nCpBQorUWRDyfyWS+EdH9YrGYSQUgLoI4EAAQEbmWy+U2iOjizAC7RBD9kq1YjjDzUyL66DjOyakBJuzAdo1iOWOM+UxED8rl8sGJAabpQBhkeGOuLC4ufieiSxMBpCVEFERcYOYnnud9cl33RCKAGSIYk4iMPmKnjTFriQDSECKGnyUIgsPFYvFQuNbMA0Dkn58nBkEASqn3zWbzV7h2bjMwBEEA+IOIN6y1F6JqxjqglAqfYBphEASgtX7W7/ev1uv1n3GFYwDMPJZhYldEHAwGoJT6AgBLvu9/2G1Pah0YtnsTEVettY+S7ktjCHEI/LDT6axGDdpEABNEMJruNWZeqtVqXycxjgVIEAEyMyilfgDAirXWn8Y4FmAniQgiIiPi7Xa7favVavVnMY8EGA5TWKNr9arX6y03Go31WY1jAQBgU0RGc4DDmWiLyGXf99+mZRwL0O12n2ez2buDwQCNMb8B4Ka19l7axjuqVCotOI5zKgpwX2nrL1a89wlV6bvAAAAAAElFTkSuQmCC",CLOSE_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADZ0lEQVRYhe2Wz2skRRTHv6+qMUHn4L9gyMWrXo2SQEDX3YmZth5CzIquC6IHQWX9H3bBBQ8eZFeiiyJd3TMZsz9AlGSNBw8ieNIg6kXJwZsevHS956U79vR0OjNJxMu+S0hR/T6fqnr1poB78T+HbRpcWVl5sNPphP39fTktkHPuofn5+fv39vb+qo6bhomXZ2Zm/pibm/uz1+udOQ04Mw9F5JfZ2dlf6znHBIhoHUBERLNRFN1yzj15ErhzbktEutZaiMh91tqFVgEA2yICAFoI3Ynj+Oxx4ap61hij5Vie58NWgSRJ1o0xOyJCpYS1dss5150GzszDCpyKRT0/GAy+aRUAEJIkWapIgIgAYBjH8cokcOfcpoh0jTEo4US0lqbpx/W51JLHOOd2VHWhXAUA5Hne7ff7Wy3woap2qysnojXv/SeNkBYB8d4vGWO+rh5HFEWfxXH8VNMHzNxvgJ8/DH6UAADkSZIsGmN2azVxu36dmNmLyGpZcCICVb3gvb/RBjhK4ECCiL6q7cStXq93DgCcc5+KyLMlPIRAAC5mWfbBUcnbamBM1jn3haouGmNARFBVAbArIk8UBYcQAowxL3vvr0+SdBqBUmJbVR+vFiaKXRERIqIXvfcbEyecUkC890tEtFPAtYQX/780Dfw4AgAQAPyuqiODRBSI6Ldpk00t4Jz7UETWiKi6cqiqJaLPnXNP/2cCzLwhIuettQBAqkoAfiz+gohARDenadsTCzDzjRDCC9ZaBaAhBAB4NUmSh4lop7j35Q/YxG17olvAzB+FENYLOEIIRESvpWn6XjHFMvO2iIy07RDCuSzLbp5IgJk3ipWjSAoAr2dZ9m5talRIPFbpEwghnMmy7M5h+VuPgJmv1bfdGPNGAxz4t2PuVo/DWnubmQ99WR0qwMzvhxAuVLfdGPOm9/5qi3PuvV80xtyttm0AB227Ho1HUMAvNsDfaYGP5HXOfVm07WpNPJNl2ciLaEyAma+EEN6qwS95769MCC9jrG2rKvI8f3QwGHx3MKnhw1fKe15U+9vHgAPj7wmoKqIoem7Esv6Vqn4vIsjzHMaYS2maXj4GvIxQvCfu5nkOIhIR+bY6YewIlpeXH+h0OgtE9HO/3//pBPCRWF1dfURV/97c3PzhtHLei1OJfwBF5uKlYMgSEgAAAABJRU5ErkJggg==",JUMP_DATA_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADrklEQVRYhe1WQWhcVRQ9970/f/pFg0WTaK2Cg+DGtmtRGBciWUxCk8wPLiriMqgVFFpUWrCiiO6Eim7ETd285I+BoODCMoUubXGjbgomKIiRYJpiNPP+vS7m//HNz7yZXxtXeuHxLu/d+8759917/wP+60L7dVCj0bgtiqJXABxRSvXtiQiJyO/MfGF5efnLf4VAs9l8S0ReK4IXiKDT6RxcWVn5LV/zW9+kEFGViJAPpRSISNwhIgjD8JjrF+wXgZ2dnXeiKDosIkeJiEXkLiK6R0TEIQlmvnMogUajcXcYhg9rrYddz6Yx5lt3YXV19VcATwPA9PT0ZBRFVx3sniilKl4Cc3Nzx4MgSNI0JWYegg/EcfyBMeb54vrs7OxEEARXANwLQNDNsx4TEenD7MsBrfVZAKS1lhEDAJr1ev2A61+v12+vVCqXARxywK/DSfahBAAcdHRi5oEjTVMA+Krdbv+RG09NTVUnJycvi8hDRJSDb1prj7vRJCL/FRBRbkkArjLzuSAItGsjIkREm8aYi+6HjI2NXcwSMAe/Ya19bG1tbb1WqzEAlRG55iUAoEdVRH5OkuQzlJA4jr9g5keVUkLdeut0Op16q9X6HgBqtdpJEXlZa/21MeZSKQJEVKpJLSwsJMz8lFJKAJCIsLX2yVardSW3McacB3B+kH8xB9xsHUkgjuOP0zSddcBhrZ1OkuTSKN9cvI1oVATiOH6fmZ/TWgsAZPd7IkmSzwFgfn7+CaXUmyLyw8bGxmK73b4x6JxhEfC26WazeY6ZX8zB0zQlIlpcWlq60DtYqU8APC4iJyYmJl7wneUFIaKBe3EcLzLzGRdcKfW6MebDgv+h/J8A4MGyBMrkwKtB0L25DPxdY8zbA+ysQ6ZaioDbu30RAPAdM8NaS0qpj4wxpz121tEPeGz2NKKREbDWPhMEwbNa65+MMZ/6DhYRq5TKPyosRaBAZiCBVqv1C4D3fH6O7OYRLfZ/V7w5gFt8LRHRTjYDgPbZeatgWBmWlD8d3XsFxSR0Xy+3+l50kzAqRWCfpePo3jL0VgGAB+I4fgNAhYiUiKjsT1ecqevap7OIHHaqoO8N4CXgiAC4D8BZ4O/+4JsH6Rm4ZIS8VdC3ISI/AjiSXb/cRBrsMcwIETODiK7tdRlAwFp7KgiCR9I0vR/olVA/krPm6FIYnOtE9M3u7u5LpZkDwMzMzB0AsLW11W1jYSjb29tcrVYliiJZX1+X8fFxbrfbLuD/8o/kL6/r0h5ZDjXcAAAAAElFTkSuQmCC",CHANNEL="./../img/channel.jpg",EMPTY="data:image/png;base64,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",OVERFLOW="data:image/png;base64,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",Util=function(){function n(){}return n.getLS=function(e,t,a){var i=window.localStorage.getItem(e);null!==i?t(i):a&&a()},n.getLSInt=function(e,t,a){var i=n.int(window.localStorage.getItem(e));isNaN(i)?a&&a():t(i)},n.isNull=function(e){return"undefined"===$.type(e)||null===e},n.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,function(e){return"\\"+e})},n.escapeREInsideBracket=function(e){return e.replace(/[\[\]\-\\\*\^]/g,function(e){return"\\"+e})},n.zenkakuToHankakuS=function(e){return e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})},n.zenkakuToHankakuA=function(e){for(var t=[],a=0,i=e;a<i.length;a++){var r=i[a];t.push(n.zenkakuToHankakuS(r))}return t},n.escapeHtmlSpecialChars=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},n.saveAsFile=function(e,t){var a=new Blob([t],{type:"text/plane;"});if(n.isNull(window.navigator.msSaveOrOpenBlob)){var i=document.createElement("a"),r=URL.createObjectURL(a);i.href=r,i.download=e,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)},0)}else window.navigator.msSaveOrOpenBlob(a,e)},n.bytesize=function(e){return encodeURIComponent(e).replace(/%../g,"a").length},n.int=function(e){if(null===e)return NaN;var t=parseInt(e,10);if(isNaN(t)){var a=e.match(/\d+/);return null==a?NaN:parseInt(a[0],10)}return t},n.cutStringBytesize=function(e,t){if(t=t||50,!(n.bytesize(e)>t))return e;for(var a=0,i="",r=0;r<e.length;r++){var l=e.charAt(r);if(t<(a+=n.bytesize(l)))return i+"...";i+=l}},n.cutString=function(e,t){return t=t||40,e.length>t?e.substring(0,t)+"...":e},n.registerTooltip=function(e){e.tooltip({placement:"bottom",animation:!1,template:'<div class="tooltip mt-2" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})},n.copyObj=function(e){return $.extend(!0,{},e)},n.shuffle=function(e,t){var a=e.slice(0);if(a.length<=1)return a;if(t){var i=$.inArray(t,a);-1!==i&&a.splice(i,1)}for(var r,l,n=a.length;n;)l=Math.floor(Math.random()*n--),r=a[n],a[n]=a[l],a[l]=r;return t&&-1!==i&&a.splice(0,0,t),a},n.domain="https://tkgwku.github.io/n",n}(),NicolistPlayer=function(){function l(){}return l.registerEventListener=function(){$(window).resize(function(){0!==$("#play iframe").length&&l.videoResize()}),$(window).on("unload",function(){}),$(window).scroll(function(){}),$("#pcclose").on("click",function(){$("#play").html(""),$("#pclist").addClass("silent").html(""),$("#controller").addClass("silent"),l.playindex=-1,l.playlist=[]}),$("#pcnewtab").on("click",function(){window.open(Util.domain+"/player.html?pl="+escape(JSON.stringify(l.playlist))+"&i="+l.playindex)}),$("#pclist").on("change",function(){l.playindex=Util.int($("#pclist").val()+""),isNaN(l.playindex)&&(l.playindex=0),l.autoplay=!1,l.refreshPlayer()}),$("#pcnext").on("click",function(e){$(e.currentTarget).hasClass("disabled")||(l.autoplay=!0,l.next())}),$("#pcprev").on("click",function(e){$(e.currentTarget).hasClass("disabled")||(l.autoplay=!0,l.previous())}),$("#pcloop").on("click",function(){$("#nicolist_loop").prop("checked")?($("#nicolist_loop").prop("checked",!1),localStorage.setItem("nicolist_loop","false"),$("#pcloop img").attr("src",NOT_LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生")):($("#nicolist_loop").prop("checked",!0),localStorage.setItem("nicolist_loop","true"),$("#pcloop img").attr("src",LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生を解除")),$("#pcloop").tooltip("dispose"),Util.registerTooltip($("#pcloop")),$("#pcloop").tooltip("show"),l.refreshController()}),$("#pcwidth").on("click",function(){$("#nicolist_cinematic").prop("checked")?($("#nicolist_cinematic").prop("checked",!1),localStorage.setItem("nicolist_cinematic","false"),$("#pcwidth img").attr("src",WIDEN_DATA_URL),$("#pcwidth").attr("title","ワイド画面で表示")):($("#nicolist_cinematic").prop("checked",!0),localStorage.setItem("nicolist_cinematic","true"),$("#pcwidth img").attr("src",NARROW_DATA_URL),$("#pcwidth").attr("title","固定サイズで表示")),$("#pcwidth").tooltip("dispose"),Util.registerTooltip($("#pcwidth")),$("#pcwidth").tooltip("show"),l.videoResize()})},l.setupYoutubeIframe=function(t){$("#play").html("");var e=$("<div>",{id:"playeriframeyoutube"});$("#play").append(e),l.player=new YT.Player("playeriframeyoutube",{videoId:t,playerVars:{autoplay:l.autoplay?1:0},events:{onStateChange:function(e){e.data===YT.PlayerState.ENDED?(l.autoplay=!0,l.next()):e.data===YT.PlayerState.CUED&&(l.removeFromDeletedVideoList(t),l.autoplay&&(l.player.playVideo(),l.autoplay=!1))},onError:function(e){l.addToDeletedVideoList(t),l.autoplay=!0,l.next()}}}),l.videoResize()},l.setupNiconicoIframe=function(i){$("#play").html("");var e=$("<iframe>",{id:"playeriframenicovideo",src:"https://embed.nicovideo.jp/watch/"+i+"?jsapi=1&playerId=0",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""});$("#play").append(e),l.videoResize(),window.onmessage=function(e){if("https://embed.nicovideo.jp"===e.origin)if("error"===e.data.eventName)l.addToDeletedVideoList(i),l.autoplay=!0,l.next();else if("playerStatusChange"===e.data.eventName)4===e.data.data.playerStatus&&(l.autoplay=!0,l.next());else if("loadComplete"===e.data.eventName){if(l.autoplay&&($("#play iframe").get(0).contentWindow.postMessage({eventName:"play",playerId:"0",sourceConnectorType:1},"https://embed.nicovideo.jp"),l.autoplay=!1),l.removeFromDeletedVideoList(i),$("#nicolist_savevolume").prop("checked")){var t=l.playlist[l.playindex];l.volumemap.hasOwnProperty(t)&&$("#play iframe").get(0).contentWindow.postMessage({eventName:"volumeChange",playerId:"0",sourceConnectorType:1,data:{volume:l.volumemap[t]}},"https://embed.nicovideo.jp"),l.skip_flag=!0}}else if($("#nicolist_savevolume").prop("checked")&&"playerMetadataChange"===e.data.eventName)if(l.skip_flag)l.skip_flag=!1;else{var a=Math.round(1e3*e.data.data.volume)/1e3;t=l.playlist[l.playindex];l.volumemap.hasOwnProperty(t)&&l.volumemap[t]===a||(l.volumemap[t]=a,localStorage.setItem("nicolist_volumemap",JSON.stringify(l.volumemap)))}}},l.addToDeletedVideoList=function(e){if(-1===$.inArray(e,l.deletedVideoArray)){l.deletedVideoArray.push(e),localStorage.setItem("nicolist_deleted",JSON.stringify(l.deletedVideoArray));var t=$("#pclist option[value="+l.playindex+"]");0!==t.length&&t.text("[x] "+(l.playindex+1)+": "+l.playlistTitleMap[e])}},l.removeFromDeletedVideoList=function(e){var t=$.inArray(e,l.deletedVideoArray);if(-1!==t){l.deletedVideoArray.splice(t,1),localStorage.setItem("nicolist_deleted",JSON.stringify(l.deletedVideoArray));var a=$("#pclist option[value="+l.playindex+"]");0!==a.length&&a.text(l.playindex+1+": "+l.playlistTitleMap[e])}},l.videoSize=function(){var e=$("#play").outerWidth(),t=Math.ceil(9*e/16);return.7*$(window).height()<t&&(t=Math.ceil(.7*$(window).height()),e=Math.ceil(16*t/9)),e<640||$("#nicolist_cinematic").prop("checked")?[e,t]:[640,360]},l.videoResize=function(){var e=l.videoSize();$("#play iframe").css({width:e[0],height:e[1]}),$("#controller").css({width:e[0]})},l.next=function(){l.hasNext()?(l.playindex++,l.refreshPlayer()):$("#nicolist_loop").prop("checked")&&(l.playindex=0,l.refreshPlayer())},l.hasNext=function(){return-1<l.playindex&&l.playlist.length>l.playindex+1},l.hasPrevious=function(){return 0<l.playindex},l.previous=function(){l.hasPrevious()?(l.playindex--,l.refreshPlayer()):$("#nicolist_loop").prop("checked")&&(l.playindex=l.playlist.length-1,l.refreshPlayer())},l.refreshPlayer=function(){var e=l.playlist[l.playindex];/^sm\d+$/.test(e)||/^nm\d+$/.test(e)||/^so\d+$/.test(e)||/^\d+$/.test(e)?0===$("#play iframe").length||"playeriframeyoutube"===$("#play iframe").attr("id")?l.setupNiconicoIframe(e):$("#play iframe").attr("src","https://embed.nicovideo.jp/watch/"+e+"?jsapi=1&playerId=0"):0===$("#play iframe").length||"playeriframenicovideo"===$("#play iframe").attr("id")?l.setupYoutubeIframe(e):l.player.loadVideoById({videoId:e}),l.refreshController()},l.refreshController=function(){l.hasNext()||$("#nicolist_loop").prop("checked")?$("#pcnext").removeClass("disabled"):$("#pcnext").addClass("disabled"),l.hasPrevious()||$("#nicolist_loop").prop("checked")?$("#pcprev").removeClass("disabled"):$("#pcprev").addClass("disabled"),""!==$("#play").html()?$("#controller").removeClass("silent"):$("#controller").addClass("silent"),1<l.playlist.length?($("#pclist").removeClass("silent"),$("#pclist").val(l.playindex+"")):$("#pclist").addClass("silent"),$("#pcfav").html(""),l.showFavbutton&&($("#pcfav").append(Nicolist.createFavIcon(l.playlist[l.playindex],l.playlistTitleMap[l.playlist[l.playindex]]).removeClass("mr-2")),Util.registerTooltip($("#pcfav .favIcon")))},l.initPlaylistSel=function(){var e,t;for($("#pclist").html(""),t=0;t<l.playlist.length;t++)l.playlistTitleMap.hasOwnProperty(l.playlist[t])&&(e=-1===$.inArray(l.playlist[t],l.deletedVideoArray)?"":"[x] ",$("<option>",{text:e+(t+1)+": "+l.playlistTitleMap[l.playlist[t]],value:t+""}).appendTo($("#pclist")))},l.createEmbedElem=function(){var e=l.playlist[l.playindex];/^sm\d+$/.test(e)||/^nm\d+$/.test(e)||/^so\d+$/.test(e)||/^\d+$/.test(e)?l.setupNiconicoIframe(e):l.setupYoutubeIframe(e);try{$("#play iframe").get(0).contentWindow.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}catch(e){}l.initPlaylistSel(),$("#pcprev img").attr("src",PREV_DATA_URL),$("#pcnext img").attr("src",NEXT_DATA_URL),$("#pcclose img").attr("src",CLOSE_DATA_URL),$("#pcnewtab img").attr("src",JUMP_DATA_URL),$("#nicolist_loop").prop("checked")?($("#pcloop img").attr("src",LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生を解除")):($("#pcloop img").attr("src",NOT_LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生")),Util.registerTooltip($("#pcloop")),$("#nicolist_cinematic").prop("checked")?($("#pcwidth img").attr("src",NARROW_DATA_URL),$("#pcwidth").attr("title","固定サイズで表示")):($("#pcwidth img").attr("src",WIDEN_DATA_URL),$("#pcwidth").attr("title","ワイド画面で表示")),Util.registerTooltip($("#pcwidth"))},l.init=function(){l.registerEventListener(),$("input[type=checkbox]").on("change",function(e){var t=$(e.currentTarget).attr("id");Util.isNull(t)||window.localStorage.setItem(t,$(e.currentTarget).prop("checked"))}),$("#pcrestore").on("click",function(){l.restore()}),$("#pcopenpref").on("click",function(){$("#prefModal").modal("show")}),l.fromURLInfo()},l.fromURLInfo=function(){var e=window.location.search.match(/[^?&]+=[^?&]*/g);if(null!==e){for(var t=0;t<e.length;t++){var a=e[t].match(/^pl=([^?&]+)$/);if(a)try{l.playlist=JSON.parse(unescape(a[1]))}catch(e){return void $("#play").text(e)}else{var i=e[t].match(/^i=(\d+)$/);i&&(l.playindex=Util.int(i[1]))}}l.playlist instanceof Array&&0!==l.playlist.length?((l.playlist.length<=l.playindex||l.playindex<0)&&(l.playindex=0),l.refreshController(),l.createEmbedElem(),localStorage.setItem("nicolist_playlist_s","pl="+JSON.stringify(l.playlist)+"&i="+l.playindex)):$("#play").text("プレイリスト情報が不正です。")}else{localStorage.getItem("nicolist_playlist_next")&&l.restore(),$("#noquery").removeClass("silent");var r=localStorage.getItem("nicolist_playlist_s");r&&r.match(/[^?&]+=[^?&]*/g)&&$("#restoreQuestion").removeClass("silent")}},l.restore=function(){var e=localStorage.getItem("nicolist_playlist_s");if(e){var t=e.match(/^pl=([^?&]+)&i=(\d+)$/);t&&2<t.length&&(l.playlist=JSON.parse(unescape(t[1])),l.playindex=parseInt(t[2],10),l.refreshController(),l.createEmbedElem(),$("#noquery").addClass("silent"))}},l.showFavbutton=!1,l.playlist=[],l.playlistTitleMap={},l.playindex=-1,l.deletedVideoArray=[],l.volumemap={},l.autoplay=!1,l.skip_flag=!1,l}(),Nicolist=function(){function k(){}return k.loadImg=function(e){var t=e.attr("data-src");t&&(e.on("load",function(e){-1===$.inArray($(e.currentTarget).attr("src"),k.loadedtn)&&k.loadedtn.push($(e.currentTarget).attr("src")),$(e.currentTarget).removeClass("loading")}),e.attr("src",t))},k.loadImgOnScreen=function(e,t){var a=$(window).height()+$(e).scrollTop();$(t).find("img[data-src]:visible").each(function(e,t){$(t).offset().top<a&&k.loadImg($(t))})},k.search=function(e){var t=Util.escapeREInsideBracket($("#nicolist_separator").val()+""),a=[];if(""===t)a=[e];else{var i=t.charAt(0);a=e.replace(new RegExp("["+t+"]","g"),i).replace(new RegExp(i+"+","g"),i).replace(new RegExp(i+"$|^"+i,"g"),"").split(i)}if(""!==a[0]){var r=a.join("」+「");$("#sr").html(""),$("<button>",{class:"close","aria-label":"Close",click:function(e){$("#sr").fadeOut("slow",function(){k.refreshStyle(),$("#sr").html("")})}}).append($("<span>",{html:"&times;"})).appendTo("#sr"),k.pushHistory(e);var l=$("#nicolist_and").prop("checked"),n=Util.int($("#nicolist_msc").val()+"");n<=0&&(n=1/0);var o=Util.escapeREInsideBracket($("#nicolist_ignore").val()+""),s=0,c=0,d=$("<div>");for(var p in k.y){for(var A=$("#nicolist_sort").prop("checked")?k.reversePairList(k.y[p]):k.y[p].slice(0),g=!1,h=void 0,u=0,f=A.length/2;u<f;u++){var m=A[2*u],v=A[2*u+1],y=l?k.matchAND:k.matchOR,w=$("#nicolist_hankaku").prop("checked")?y(v,a,o):y(Util.zenkakuToHankakuS(v),Util.zenkakuToHankakuA(a),o);if(w){if(n<++s)return $("#sr").append($("<div>",{class:"d-flex flex-row align-items-center"}).append($("<img>",{src:OVERFLOW})).append($("<div>",{text:"検索条件「"+r+"」に一致する動画が多すぎます!",class:"ml-4"}))),void $("#sr").fadeIn();g||(g=!0,c++,d.append($("<div>").append($("<span>",{text:p,"data-genre":p,"data-for":"genreTitle"}))),h=$("<div>",{"data-genre":p,"data-for":"wrapperVideos",class:"mt-2 mb-2"}));var E=$("<div>",{class:"d-flex align-items-center flex-row"}),C=k.createFavIcon(m,v);E.append(C);var I=$("<a>",{href:k.getVideoURL(m),target:"_blank","data-genre":p,"data-id":m,"data-title":v,contextmenu:function(e){return k.showMenu(e.pageX,e.pageY,$(e.currentTarget),"search"),!1},click:function(e){"official"!==$("#click_action").val()&&e.preventDefault(),k.openVideo($(e.currentTarget),"search")}});$("#nicolist_thumb_res").prop("checked")&&I.append(k.createStayUnloadedTNI(m,!1)),I.append(k.$markedSpan(v,w)),E.append(I),h.append(E)}}h&&d.append(h)}if(0===s)return $("#sr").append($("<span>",{text:"検索条件「"+r+"」に一致する動画はありませんでした"})),void $("#sr").fadeIn();d.prepend($("<h4>",{text:"「"+r+"」の検索結果"}).append($("<small>",{text:"("+s+"件の一致)",class:"text-muted ml-2"}))),2<c&&20<s&&d.find("[data-for=genreTitle]").each(function(e,t){$(t).on("click",function(e){var t=$(e.currentTarget).attr("data-genre");$('#sr div[data-for=wrapperGenre][data-genre!="'+t+'"]').each(function(e,t){$(t).addClass("silent")}),$('#sr div[data-for=wrapperGenre][data-genre="'+t+'"]').each(function(e,t){$(t).toggleClass("silent"),k.loadImgOnScreen("html, body","#sr")})}),$(t).addClass("pointer hover"),$(t).text("- "+$(t).text())}),$("#sr").append(d),$("#sr").fadeIn(),k.loadImgOnScreen("html, body","#sr"),$("#alert").fadeOut()}else k.message("検索クエリが空です。")},k.$markedSpan=function(e,t){if(!$("#nicolist_highlight").prop("checked"))return $("<span>",{text:e});var a=$("<span>"),i=[],r=[];$("#nicolist_hankaku").prop("checked")||(e=Util.zenkakuToHankakuS(e),t=Util.zenkakuToHankakuA(t));for(var l=function(e,t){if(-1!=e)for(var a=0;a<t;)-1===r.indexOf(e+a)&&r.push(e+a),a++},n=0,o=t;n<o.length;n++){var s=o[n];if(-1===$.inArray(s,i))for(var c=0,d=e.length-s.length+1;c<d;c++)s.toUpperCase()===e.substring(c,c+s.length).toUpperCase()&&(l(c,s.length),i.push(s))}for(var p=-1,A=-1,g=0,h=e.length;g<h;g++){-1!==r.indexOf(g)?(-1===p&&(p=g),-1!==A&&(a.append($("<span>",{text:e.substring(A,g)})),A=-1)):(-1===A&&(A=g),-1!==p&&(a.append($("<mark>",{text:e.substring(p,g)})),p=-1))}return-1!==p&&a.append($("<mark>",{text:e.substring(p,e.length)})),-1!==A&&a.append($("<span>",{text:e.substring(A,e.length)})),a},k.ignorantRE=function(e,t){for(var a="",i=0,r=e.length;i<r;i++)a+=Util.escapeRegExp(e.charAt(i))+(i===r-1?"":t);return a},k.matchSingle=function(e,t,a){return""===a?e.match(new RegExp(Util.escapeRegExp(t),"gi")):e.match(new RegExp(k.ignorantRE(t,"["+a+"]*"),"gi"))},k.matchAND=function(e,t,a){for(var i=[],r=0,l=t;r<l.length;r++){var n=l[r],o=k.matchSingle(e,n,a);if(!o)return null;i=i.concat(o)}return i.slice(0)},k.matchOR=function(e,t,a){for(var i=[],r=0,l=t;r<l.length;r++){var n=l[r],o=k.matchSingle(e,n,a);o&&(i=i.concat(o))}return 0!==i.length?i.slice(0):null},k.getVideoURL=function(e){return/^sm\d+$/.test(e)||/^nm\d+$/.test(e)||/^so\d+$/.test(e)||/^\d+$/.test(e)?"http://www.nicovideo.jp/watch/"+e:"https://www.youtube.com/watch?v="+e},k.getThumbURL=function(e){if(/^sm\d+$/.test(e))return"http://tn.smilevideo.jp/smile?i="+Util.int(e);if(/^nm\d+$/.test(e))return"http://tn.smilevideo.jp/smile?i="+Util.int(e);if(/^so\d+$/.test(e))return"http://tn.smilevideo.jp/smile?i="+Util.int(e);if(/^\d+$/.test(e)){Util.int(e);return CHANNEL}return"https://img.youtube.com/vi/"+e+"/0.jpg"},k.videoIdMatch=function(e){var t=e.match(/nicovideo\.jp\/watch\/(sm\d+)/);if(null!==t)return t[1];var a=e.match(/nicovideo\.jp\/watch\/(nm\d+)/);if(null!==a)return a[1];var i=e.match(/nicovideo\.jp\/watch\/(so\d+)/);if(null!==i)return i[1];var r=e.match(/nicovideo\.jp\/watch\/(\d+)/);if(null!==r)return r[1];var l=e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/);if(null!==l)return l[1];var n=e.match(/youtube\.com\/watch\?[^&]+&v=([a-zA-Z0-9_-]+)/);return null!==n?n[1]:null},k.sub=function(){if(k.checkValidity()){var e=$("#title").val()+"",t=$("#genre").val()+"",a=k.videoIdMatch($("#url").val());k.has(t,a)?k.message("すでに登録されています","warning","#alert-addvideo"):(k.pushPrev(),k.y[t].push(a),k.y[t].push(e),k.refresh("v"),$("#url").val(""),$("#title").val(""),$("#url, #title").removeClass("is-valid"),$("#registry").hasClass("silent")||$("#registry").addClass("silent"),$("#registry").html(""),k.lastId="",$("#alert, #alert-addvideo").html(""),$("#nicolist_stayopen").prop("checked")?k.messageUndoable("動画「"+Util.cutString(e,50)+"」を追加しました","success","#alert-addvideo","v"):(k.messageUndoable("動画「"+Util.cutString(e,50)+"」を追加しました","success",null,"v"),$("#addVideoModal").modal("hide")))}},k.checkTitleValidity=function(e){return""===e.val()||100<e.val().length||/^http:\/\//.test(e.val())||/^https:\/\//.test(e.val())?(e.removeClass("is-valid"),e.addClass("is-invalid"),!1):(e.removeClass("is-invalid"),e.addClass("is-valid"),!0)},k.checkURLValidity=function(){var e=k.videoIdMatch($("#url").val()+"");if(null===e)return $("#url").removeClass("is-valid"),$("#url").addClass("is-invalid"),$("#registry").addClass("silent"),!1;if($("#url").removeClass("is-invalid"),$("#url").addClass("is-valid"),e!==k.lastId){$("#registry").html("");var t=$("<ul>",{class:"list-unstyled"});for(var a in k.y)for(var i=k.y[a],r=0,l=i.length/2;r<l;r++){var n=i[2*r],o=i[2*r+1];n===e&&t.append($("<li>",{text:a}).append($("<span>",{text:"("+Util.cutString(o,80)+")",class:"ml-2 text-muted"})))}var s=$("<div>",{class:"d-flex align-items-center flex-row"});s.append(k.createThumbImgElem(e,!1)),""!==t.html()?($("#registry").prepend($("<div>",{text:"この動画はすでに以下のジャンルに登録されています:",class:"mb-2 text-muted"})),s.append(t)):s.append($("<span>",{text:"サムネイルはこのように表示されます",class:"text-muted"})),s.appendTo("#registry"),$("#registry").removeClass("silent"),k.lastId=e}return!0},k.checkGenreValidity=function(){return""!==$("#genre").val()||($("#genre").addClass("is-invalid"),!1)},k.checkValidity=function(){var e=k.checkGenreValidity();return e=k.checkURLValidity()&&e,(e=k.checkTitleValidity($("#title"))&&e)?$("#button").prop("disabled",!1):$("#button").prop("disabled",!0),e},k.pushHistory=function(e){var t=$.inArray(e,k.searchHistory);if(-1===t){(r=[]).push(e);for(var a=Math.min(Util.int($("#nicolist_historyCount").val()+"")-1,k.searchHistory.length),i=0;i<a;i++)r.push(k.searchHistory[i]);k.searchHistory=r}else{var r;(r=[]).push(e);i=0;for(var l=k.searchHistory.length;i<l;i++)i!==t&&r.push(k.searchHistory[i]);k.searchHistory=r}localStorage.setItem("searchHistory",JSON.stringify(k.searchHistory))},k.handleVideoDrop=function(e){var t=e.pageX>$("#addVideoModal").outerWidth(!0)/2?"#title":"#url",a=e.dataTransfer.items;if(Util.isNull(a))k.message("あなたのブラウザはDragEventをサポートしていないため、ドラッグ&ドロップの処理を続行することができません","danger");else{for(var i=0;i<a.length;i++)"string"===a[i].kind&&(/^text\/plain/.test(a[i].type)?a[i].getAsString(function(e){$(t).val(e),k.checkValidity()}):/^text\/html/.test(a[i].type)?a[i].getAsString(function(e){var t=e.match(/<[^><]+>[^><]*(?=<)/g),a=null;if(null!==t)for(var i=0,r=t.length;i<r;i++)/<span id="video-title"/.test(t[i])&&(a=t[i].replace(/<[^><]+>/g,"").replace(/^\s+/,"").replace(/\s+$/,"").replace(/\n/g,""),$("#title").val(a));if(null===a){var l=e.replace(/<[^><]+>/g,"").replace(/^\s+/,"").replace(/\s+$/,"").replace(/\n/g,"");$("#title").val(l)}k.checkValidity()}):/^text\/uri-list/.test(a[i].type)&&a[i].getAsString(function(e){$("#url").val(e),k.checkValidity()}));$(t).removeClass("dragging")}},k.registerEventListener=function(){$(window).on("unload",function(){k.unload()}),$(window).scroll(function(){k.loadImgOnScreen("html, body","#sr, #right")}),$("#ccModal").scroll(function(){k.loadImgOnScreen("#ccModal","#ccvideos")}),NicolistPlayer.registerEventListener(),$("input[type=checkbox]").on("change",function(e){var t=$(e.currentTarget).attr("id");Util.isNull(t)||window.localStorage.setItem(t,$(e.currentTarget).prop("checked"))}),$("#nicolist_thumb_cc").on("change",function(){$("#ccvideos").find(".img-thumbnail").each(function(e,t){$(t).toggleClass("silent"),k.loadImgOnScreen("#ccModal","#ccvideos")})}),$("#ccopen").on("click",function(e){for(var t in $("#ccvideos").html(""),$("#ccalert").html(""),$("#ccModal").modal("show"),k.y){var a=$("<p>",{click:function(e){var a=$(e.currentTarget),t=a.next();return t.hasClass("silent")?(t.removeClass("silent"),a.parent().find(".ccgenrename").each(function(e,t){$(t).attr("data-genre")!==a.attr("data-genre")&&($(t).next().addClass("silent"),$(t).find(".cc_genre_indicator").text("-"))}),a.find(".cc_genre_indicator").text("+"),k.loadImgOnScreen("#ccModal","#ccvideos")):(t.addClass("silent"),a.find(".cc_genre_indicator").text("-")),!1},"data-genre":t,class:"ccgenrename"});a.append($("<span>",{text:"-",class:"cc_genre_indicator mr-1"})),a.append($("<span>",{text:t})),a.append($("<span>",{"data-count":"0",class:"badge badge-pill badge-secondary2 ml-2"}));var i=$("<div>",{class:"silent"}),r=k.y[t];$("#nicolist_sort").prop("checked")&&(r=k.reversePairList(r));for(var l=0,n=r.length/2;l<n;l++){var o=r[2*l],s=r[2*l+1],c=$("<div>",{class:"d-flex flex-row align-items-center ccvideo","data-title":s,"data-id":o,"data-genre":t,"data-for":"cc_genre_video",click:function(e){var t=$(e.currentTarget),a=t.parent().prev().find("[data-count]"),i=Util.int(a.attr("data-count"));t.hasClass("alert-success")?(t.removeClass("alert-success"),i--):(t.addClass("alert-success"),i++),a.attr("data-count",i+""),0===i?a.addClass("silent"):(a.removeClass("silent"),a.text(i+""))}}),d=k.createStayUnloadedTNI(o,!1);$("#nicolist_thumb_cc").prop("checked")||d.addClass("silent"),c.append(d),c.append($("<span>",{text:s})),i.append(c)}$("#ccvideos").append(a),$("#ccvideos").append(i)}k.loadImgOnScreen("#ccModal","#ccvideos")}),$("#ccnew").on("change",function(e){var t=$("#ccnew").val()+"";localStorage.setItem("nicolist_ccnewval",t+""),"copytoold"===t||"movetoold"===t?($("#ccnewform").css("display","none"),$("#ccoldform").css("display","block")):($("#ccnewform").css("display","block"),$("#ccoldform").css("display","none")),"copytoold"===t||"copytoold"===t?$("#createcopy, #createcopy2").text("コピー"):$("#createcopy, #createcopy2").text("移動")}),$("#createcopy, #createcopy2").on("click",function(){var e=$("#ccvideos").find(".alert-success[data-for=cc_genre_video]");if(0===e.length)return k.message("動画が選択されていません。","warning","#ccalert"),void $("#ccModal").stop().animate({scrollTop:0},"slow");var t=$("#ccnew").val()+"";if("copytoold"===t||"movetoold"===t){var c=$("#ccoldsel").val()+"";if(!k.y.hasOwnProperty(c))return void k.message("ジャンルを選択してください。","warning","#ccalert");var d="movetoold"===t,p=0,A=0,g=Util.copyObj(k.y);if(e.each(function(e,t){var a=$(t).attr("data-id"),i=$(t).attr("data-title");if(-1===$.inArray(a,g[c])){if(g[c].push(a),g[c].push(i),d){for(var r=$(t).attr("data-genre"),l=g[r],n=[],o=0,s=l.length/2;o<s;o++)l[2*o]!==a&&(n.push(l[2*o]),n.push(l[2*o+1]));g[r]=n}A++}else p++}),!(0<A))return k.message("すべて「"+c+"」に登録済みの動画です","warning","#ccalert"),void $("#ccModal").stop().animate({scrollTop:0},"slow");k.pushPrev(),k.y=g,k.messageUndoable(A+"個の動画を「"+c+"」に"+(i=d?"移動":"コピー")+"しました"+(0<p?" ("+p+"個の動画は既に登録されているため"+i+"されません)":""),"success",null,"vgs"),k.setSelGen(c),k.refresh("gvs"),$("#ccModal").modal("hide")}else if("copytonew"===t||"movetonew"===t){var h="movetonew"===t,a=$("#ccname").val()+"";if(""===a)return k.message("作成するジャンルの名前を入力してください。","warning","#ccalert"),void $("#ccModal").stop().animate({scrollTop:0},"slow");if(k.y.hasOwnProperty(a))return k.message("既に存在するジャンル名です。","warning","#ccalert"),void $("#ccModal").stop().animate({scrollTop:0},"slow");k.pushPrev();var u=[];e.each(function(e,t){var a=$(t).attr("data-title"),i=$(t).attr("data-id");if(h){for(var r=$(t).attr("data-genre"),l=k.y[r],n=[],o=0,s=l.length/2;o<s;o++)l[2*o]!==i&&(n.push(l[2*o]),n.push(l[2*o+1]));k.y[r]=n}-1===$.inArray(i,u)&&(u.push(i),u.push(a))}),k.y[a]=u;var i=h?"移動":"コピー";k.messageUndoable("「"+a+"」に"+u.length/2+"個の動画を"+i+"しました","success",null,"gvs"),k.setSelGen(a),k.refresh("gvs"),$("#ccalert").html(""),$("#ccModal").modal("hide"),$("#ccname").val("")}}),$("#showAddGenre").on("click",function(){$("#genreModal").modal("show"),$("#alert-genre").html("")}),$("#randomFromAll").on("click",function(){k.randomFromAll()}),$("#randomFromRight").on("click",function(){k.randomFromRight()}),$("#favs").on("click",function(e){$(e.currentTarget).hasClass("disabled")||k.showFavs()}),$("#nicolist_thumb").on("change",function(){k.refresh("v")}),$("#nicolist_taggedtitle").on("change",function(){k.refresh("v")}),$("#nicolist_sort").on("change",function(){k.refresh("v")}),$("#nicolist_multitab").on("change",function(){$("#laert").fadeOut()}),$("#openAddModal").on("click",function(){$("#alert-addvideo").html(""),$("#addVideoModal").modal("show")}),$("#click_action").on("change",function(e){localStorage.setItem("nicolist_click_action",$(e.currentTarget).val()+"")}),$("#openPref").on("click",function(){$("#nicolist_separator").removeClass("is-valid"),$("#prefModal").modal("show")}),$("#nicolist_separator").on("input",function(){localStorage.setItem("nicolist_separator",$("#nicolist_separator").val()+""),$("#nicolist_separator").addClass("is-valid")}),$("#nicolist_ignore").on("input",function(){localStorage.setItem("nicolist_ignore",$("#nicolist_ignore").val()+"")}),$("#body").on("dragstart",function(e){e.originalEvent.dataTransfer.clearData()}),$("#body, #prefModal").on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),$("#body").get(0).ondrop=function(a){a.preventDefault();var i=a.dataTransfer.items;if(i&&0<i.length&&i[0].kind)for(var e=function(e){if("file"===i[e].kind&&/json/.test(i[e].type)){k.fileToLoad=i[e].getAsFile(),$("#rawFileName").text(k.fileToLoad.name),$("#loadRawJson").removeClass("silent"),$("#dummyLoadRawJson").addClass("silent");var t=function(){$("#prefModal").stop().animate({scrollTop:$("#loadRawJson").offset().top},1400,function(){$("#prefModal").off("shown.bs.modal",t)})};return $("#prefModal").on("shown.bs.modal",t),$("#prefModal").modal("show"),"break"}if("string"===i[e].kind)return $("#addVideoModal").modal("show"),k.handleVideoDrop(a),"break"},t=0;t<i.length;t++){if("break"===e(t))break}else{var r=a.dataTransfer.files,l=function(e){if(/\.json$/.test(r[e].name)){k.fileToLoad=r[e],$("#rawFileName").text(k.fileToLoad.name),$("#loadRawJson").removeClass("silent"),$("#dummyLoadRawJson").addClass("silent");var t=function(){$("#prefModal").stop().animate({scrollTop:$("#loadRawJson").offset().top},1400,function(){$("#prefModal").off("shown.bs.modal",t)})};return $("#prefModal").on("shown.bs.modal",t),$("#prefModal").modal("show"),"break"}};for(t=0;t<r.length;t++){if("break"===l(t))break}}},$("#prefModal").get(0).ondrop=function(e){e.preventDefault();var t=e.dataTransfer.items;if(t&&0<t.length&&t[0].kind)for(var a=0;a<t.length;a++)"file"===t[a].kind&&/json/.test(t[a].type)&&(k.fileToLoad=t[a].getAsFile(),$("#rawFileName").text(k.fileToLoad.name),$("#loadRawJson").removeClass("silent"),$("#dummyLoadRawJson").addClass("silent"),$("#prefModal").stop().animate({scrollTop:$("#loadRawJson").offset().top},600));else for(var i=e.dataTransfer.files,r=0;r<i.length;r++)/\.json$/.test(i[r].name)&&(k.fileToLoad=i[r],$("#rawFileName").text(k.fileToLoad.name),$("#loadRawJson").removeClass("silent"),$("#dummyLoadRawJson").addClass("silent"),$("#prefModal").stop().animate({scrollTop:$("#loadRawJson").offset().top},600))},$("#addVideoModal").on("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.pageX>$("body").outerWidth(!0)/2?($("#title").addClass("dragging"),$("#url").removeClass("dragging")):($("#url").addClass("dragging"),$("#title").removeClass("dragging"))}),$("#addVideoModal").on("dragleave",function(e){e.stopPropagation(),e.preventDefault(),$("#url, #title").removeClass("dragging")}),$("#addVideoModal").on("drop",function(e){e.preventDefault(),k.handleVideoDrop(e.originalEvent)}),$("#url, #title").on("input",function(e){k.checkValidity()}),$("body").on("click",function(e){k.showingMenu&&k.closeMenu(),$("#history").css("display","none")}),$("#menu").on("click",function(e){e.stopPropagation()}),$("#addgenre").on("click",function(e){e.stopPropagation(),k.addGenre($("#genrename").val())?(k.setSelGen($("#genrename").val()),$("#genreModal").modal("hide"),$("#genrename").val(""),k.refresh("gs")):($("#genrename").blur(),$("#genrename").focus())}),$("#genrename").on("keypress",function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),k.addGenre($("#genrename").val())?(k.setSelGen($("#genrename").val()),$("#genreModal").modal("hide"),$("#genrename").val(""),k.refresh("gs")):($("#genrename").blur(),$("#genrename").focus()))}),$("#button").on("click",function(e){k.sub()}),$("#genreModal").on("shown.bs.modal",function(){$("#genrename").focus()}),$("#saveEdit").on("click",function(e){var r=$("#editUrl").text(),l=$("#editTitle").val()+"",n=$("#editGenre").val()+"",t=$(e.currentTarget).attr("data-title"),o=$(e.currentTarget).attr("data-genre");if(""===l)k.message("タイトルが空欄です","warning","#emalert"),$("#editTitle").addClass("is-invalid");else if(""===n)k.message("ジャンルが正しく選択されていません","warning","#emalert"),$("#editGenre").addClass("is-invalid");else if(l===t&&n===o)k.message("変更なしになっています","warning","#emalert"),$("#editTitle").addClass("is-invalid"),$("#editGenre").addClass("is-invalid");else{var a=$("<div>"),i=$("<table>",{class:"mb-4"}),s=$("<tr>");s.append($("<td>",{text:"タイトル: "}));var c=$("<td>");if(c.append($("<strong>",{text:l})),t===l&&c.append($("<span>",{text:" (変更なし)"})),c.appendTo(s),s.appendTo(i),t!==l){var d=$("<tr>",{class:"gray"});d.append($("<td>",{text:"変更前: "})),d.append($("<td>",{text:t})),d.appendTo(i)}var p=$("<tr>");p.append($("<td>",{text:"ジャンル: ",class:"confirmedit"}));var A=$("<td>",{class:"confirmedit"});if(A.append($("<strong>",{text:n})),o===n&&A.append($("<span>",{text:" (変更なし)"})),A.appendTo(p),p.appendTo(i),o!==n){var g=$("<tr>",{class:"gray"});g.append($("<td>",{text:"変更前: "})),g.append($("<td>",{text:o})),g.appendTo(i)}a.append(i),a.append($("<span>",{text:"変更を保存しますか?"})),k.confAvoidable(a,function(){for(var e=Util.copyObj(k.y),t=e[o],a=[],i=0;i<t.length/2;i++)t[2*i]!==r?(a.push(t[2*i]),a.push(t[2*i+1])):o===n&&(a.push(r),a.push(l));e[o]=a,o!==n&&(e[n].push(r),e[n].push(l)),k.pushPrev(),k.y=e,k.messageUndoable("動画「"+l+"」の動画情報を更新しました","info",null,"v"),k.refresh("v"),$("#editModal").modal("hide")})}}),$("#editModal").on("hidden.bs.modal",function(){$("#editTitle").removeClass("is-invalid"),$("#editGenre").removeClass("is-invalid"),$("#emalert").html("")}),$("#nicolist_historyCount").on("change",function(e){var t=Util.int($(e.currentTarget).val());!isNaN(t)&&0<t&&localStorage.setItem("nicolist_historyCount",t+"")}),$("#nicolist_msc").on("change",function(e){var t=Util.int($(e.currentTarget).val());!isNaN(t)&&0<t&&localStorage.setItem("nicolist_msc",t+"")}),$("#nicolist_loop").on("change",function(){0!==$("#play iframe").length&&($("#nicolist_loop").prop("checked")?($("#pcloop img").attr("src",LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生を解除")):($("#pcloop img").attr("src",NOT_LOOP_DATA_URL),$("#pcloop").attr("title","ループ再生")),Util.registerTooltip($("#pcloop")),NicolistPlayer.refreshController())}),$("#nicolist_cinematic").on("change",function(){0!==$("#play iframe").length&&($("#nicolist_cinematic").prop("checked")?($("#pcwidth img").attr("src",NARROW_DATA_URL),$("#pcwidth").attr("title","固定サイズで表示")):($("#pcwidth img").attr("src",WIDEN_DATA_URL),$("#pcwidth").attr("title","ワイド画面で表示")),Util.registerTooltip($("#pcwidth")),NicolistPlayer.refreshController()),NicolistPlayer.videoResize()}),$("#searchQuery").on("focus",function(e){if(0!==k.searchHistory.length){$("#history").html("");for(var t=0;t<k.searchHistory.length;t++){var a=k.searchHistory[t];$("<a>",{text:a,class:"dropdown-item pointer",click:function(e){$("#searchQuery").val($(e.currentTarget).text()),k.search($("#searchQuery").val()+"")}}).appendTo("#history")}$("#history").css({"min-width":$(e.currentTarget).outerWidth()+"px",display:"inline-block",top:$(e.currentTarget).offset().top+$(e.currentTarget).outerHeight(),left:$(e.currentTarget).offset().left})}}),$("#searchQuery").on("click",function(e){e.stopPropagation()}),$("#searchQuery").on("keypress",function(e){13===e.keyCode&&(k.search($("#searchQuery").val()+""),$("#searchQuery").blur(),$("#history").css("display","none"))}),$("#search").on("click",function(e){k.search($("#searchQuery").val()+"")}),$("#sgopen").on("click",function(){$("#sggenre").html("");for(var e=Object.keys(k.y),t=0;t<e.length;t++){var a=e[t],i=$("<div>",{class:"sggwrapper "+(0!=t?"sgtarget":"")}).append($("<div>",{text:a,class:"sgg "+(0!=t?"":"sgdef")}));$("#sggenre").append(i)}$("#genreSortModal").modal("show"),Sortable.create($("#sggenre").get(0),{draggable:".sgtarget",animation:300})}),$("#submitGenreSort, #submitGenreSort2").on("click",function(){k.pushPrev();var i={};$(".sgg").each(function(e,t){var a=$(t).text();i[a]=k.y[a]}),k.y=i,k.refresh("g"),k.messageUndoable("ジャンルを並び替えしました","success",null,"g"),$("#genreSortModal").modal("hide")}),$("#issueRaw").on("click",function(){var e=new Date;Util.saveAsFile("backup_"+e.getFullYear()+"_"+(e.getMonth()+1)+"_"+e.getDate()+".json",JSON.stringify(k.y))}),$("#fromRawFile").on("change",function(e){$("#loadrawalert").html("");var t=e.target.files;t&&1===t.length?/json/.test(t[0].type)?(k.fileToLoad=t[0],$("#rawFileName").text(k.fileToLoad.name),$("#loadRawJson").removeClass("silent"),$("#dummyLoadRawJson").addClass("silent")):k.message("jsonファイルを選択してください","warning","#loadrawalert"):k.message("正しいファイルを選択してください","warning","#loadrawalert")}),$("#loadRawJson").on("click",function(){if(k.fileToLoad){var p=new FileReader;p.readAsText(k.fileToLoad),p.onload=function(){try{if(p.result instanceof ArrayBuffer)var e=JSON.parse(p.result.toString());else e=JSON.parse(p.result)}catch(e){return void k.message("フォーマットが正しくありません","warning","#loadrawalert")}var t=0,a=0;if("object"===$.type(e)){for(var i=Util.copyObj(k.y),r=Object.keys(e),l=0;l<r.length;l++){var n=r[l],o=e[n];if("array"!==$.type(o))return void k.message("フォーマットが正しくありません","warning","#loadrawalert");for(var s=0;s<o.length/2;s++){var c=o[2*s],d=o[2*s+1];i.hasOwnProperty(n)||(i[n]=[],a++),-1===$.inArray(c,i[n])&&(i[n].push(c),i[n].push(d),t++)}}0===t&&0===a?k.message("すべて登録済みの動画です","warning","#loadrawalert"):(k.pushPrev(),k.y=i,k.messageUndoable("JSONから"+(0<t?t+"個の動画":"")+(0<a&&0<t?"、":"")+(0<a?a+"個のジャンル":"")+"を新たに読み込みました","success",null,(0<a?"g":"")+(0<t?"v":"")),k.refresh((0<a?"g":"")+(0<t?"v":"")),$("#loadrawalert").html(""),$("#prefModal").modal("hide"))}else k.message("フォーマットが正しくありません","warning","#loadrawalert")},k.fileToLoad=null,$("#rawFileName").text(""),$("#loadRawJson").addClass("silent"),$("#dummyLoadRawJson").removeClass("silent")}})},k.init=function(){(NicolistPlayer.showFavbutton=!0,k.registerEventListener(),Util.isNull(localStorage))&&(Util.isNull(document.cookie)?k.message("ローカルストレージ・Cookieが利用できないためデータを保存することができません。","danger",null,!0):(localStorage=new function(){var i=this;this.data={},this.length=0,this.getItem=function(e){return i.data[e]},this.setItem=function(e,t){if(null!==e){i.data.hasOwnProperty(e)||i.length++;var a=new Date;a.setTime(Date.now()+687084e4),document.cookie="ls_"+escape(e)+"="+escape(t)+"; expires="+a.toUTCString()+"; path=/",i.data[e]=t}},this.removeItem=function(e){null!==e&&(document.cookie="ls_"+escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",i.data.hasOwnProperty(e)&&(i.length--,delete i.data[e]))},this.clear=function(){i.data={},i.length=0},this.key=function(e){return Object.keys(i.data)[e]},this.length=0,this.data={};var e=document.cookie.match(/ls_[^=;]+=[^;=]*/g);if(null!==e)for(var t=0;t<e.length;t++){var a=e[t].split(/=/);this.data[unescape(a[0].substring(3))]=a[1]}},""===document.cookie&&k.message("お使いのブラウザはローカルストレージをサポートしていないため、代わりにcookieを使用してデータを保存しています。","warning")));k.islocal&&$("#local_indicator").removeClass("silent"),k.initDataFromLS(),Util.registerTooltip($("#controller span[title]")),k.refresh("vgs")},k.initDataFromLS=function(){$("input[type=checkbox]").each(function(e,t){var a=$(t).attr("id");if(!Util.isNull(a)){var i=window.localStorage.getItem(a);"true"===i?$(t).prop("checked",!0):i&&$(t).prop("checked",!1)}}),Util.getLS("nicolist_separator",function(e){$("#nicolist_separator").val(e)},function(){$("#nicolist_separator").val(k.SEP_DEF_VAL)}),Util.getLS("nicolist_ignore",function(e){$("#nicolist_ignore").val(e)},function(){$("#nicolist_ignore").val(k.IGN_DEF_VAL)}),Util.getLS("nicolist_click_action",function(e){""!==e&&$("#click_action").val(e)}),Util.getLSInt("_nicolistTabCount",function(e){if(!$("#nicolist_multitab").prop("checked")){var t=$("<span>");$("<span>",{text:"正しく終了されませんでしたか？",class:"undo ml-1 mr-1",click:function(){localStorage.setItem("_nicolistTabCount","1"),$("#alert").fadeOut("slow",k.refreshStyle)}}).appendTo(t),$("<span>",{text:"/",class:"ml-1 mr-1"}).appendTo(t),$("<span>",{text:"このアラートが常に表示される場合",class:"undo ml-1",click:function(){$("#nicolist_multitab").prop("checked",!0),localStorage.setItem("nicolist_multitab","true"),$("#laert").fadeOut("slow",k.refreshStyle)}}).appendTo(t),k.message("複数タブで同時に閲覧している可能性があります。","danger",null,!0,t)}localStorage.setItem("_nicolistTabCount",e+1+"")},function(){localStorage.setItem("_nicolistTabCount","1")}),Util.getLS("nicolist",function(t){try{if("object"!=typeof(t=JSON.parse(t)))throw new Error("JSON syntax error");k.y=t}catch(e){console.error("JSON Systax Error: "+t+" is not a json"),console.error(e)}}),Util.getLS("selectedGenre",function(e){k.setSelGen(e)},function(){0<Object.keys(k.y).length&&k.setSelGen(Object.keys(k.y)[0])}),Util.getLS("nicolist_ccnewval",function(e){$("#ccnew").val(e),"copytoold"===e||"movetoold"===e?($("#ccnewform").css("display","none"),$("#ccoldform").css("display","block")):($("#ccnewform").css("display","block"),$("#ccoldform").css("display","none")),"copytoold"===e||"copytoold"===e?$("#createcopy, #createcopy2").text("コピー"):$("#createcopy, #createcopy2").text("移動")}),Util.getLS("searchHistory",function(t){try{k.searchHistory=JSON.parse(t),"array"!==$.type(k.searchHistory)&&(k.searchHistory=[])}catch(e){console.error("JSON Systax Error: "+t+" is not a json"),console.error(e)}}),Util.getLSInt("nicolist_historyCount",function(e){$("#nicolist_historyCount").val(e)}),Util.getLS("nicolist_msc",function(e){$("#nicolist_msc").val(e)}),Util.getLS("nicolist_deleted",function(t){try{NicolistPlayer.deletedVideoArray=JSON.parse(t),"array"!==$.type(NicolistPlayer.deletedVideoArray)&&(NicolistPlayer.deletedVideoArray=[])}catch(e){console.error("JSON Systax Error: "+t+" is not a json"),console.error(e)}}),Util.getLS("nicolist_star",function(t){try{k.starred=JSON.parse(t),"array"!==$.type(k.starred)&&(k.starred=[])}catch(e){console.error("JSON Systax Error: "+t+" is not a json"),console.error(e)}}),Util.getLS("nicolist_volumemap",function(t){try{t=JSON.parse(t),"object"===$.type(t)&&(NicolistPlayer.volumemap=t)}catch(e){console.error("JSON Systax Error: "+t+" is not a json"),console.error(e)}})},k.unload=function(){var e=Util.int(localStorage.getItem("_nicolistTabCount"));1===e?localStorage.removeItem("_nicolistTabCount"):2<=e&&localStorage.setItem("_nicolistTabCount",e-1+"")},k.refresh=function(e){k.y.hasOwnProperty(k.selectedGenre)||k.setSelGen("とりあえず");var t=-1!==e.indexOf("v"),a=-1!==e.indexOf("g"),i=-1!==e.indexOf("s");if(i&&($("#favs li").hasClass("selected")&&$("#favs li").removeClass("selected"),k.refreshFavsLeft()),i||a){$("select[role='genre']").html(""),$("#left").html("");var r=function(a){$("select[role='genre']").each(function(e,t){$(t).append($("<option>",{value:a,text:a}))}),$("<li>",{class:a===k.selectedGenre?"list-group-item selected":"list-group-item",text:a,click:function(e){var t=$(e.currentTarget).text();k.setSelGen(t),k.refresh("s")}}).appendTo("#left")};for(var l in k.y)r(l);$('select[role="genre"]').val(k.selectedGenre)}if(i||a||t)if($("#right").html(""),$("#favs li").hasClass("selected"))k.showFavs();else{"とりあえず"===k.selectedGenre?$("<h4>",{text:k.selectedGenre}).append($("<small>",{class:"text-muted ml-2",text:"("+k.y[k.selectedGenre].length/2+")"})).appendTo("#right"):$("<h4>",{text:k.selectedGenre}).append($("<small>",{class:"text-muted ml-2 mr-1",text:"("+k.y[k.selectedGenre].length/2+")"})).append($("<small>",{class:"removevideo","data-genre":k.selectedGenre,title:"ジャンルを削除",text:"×",click:function(e){k.removeGenre($(e.currentTarget))}})).appendTo("#right");var n=k.y[k.selectedGenre];if(0===n.length)$("#right").append(k.$emptyElem());else{$("#nicolist_sort").prop("checked")&&(n=k.reversePairList(n));for(var o=0;o<n.length/2;o++){var s=n[2*o],c=n[2*o+1];k.rightVideoElem(s,c,k.selectedGenre).appendTo("#right")}k.loadImgOnScreen("html, body","#right")}}(a||t)&&($("#out").val(JSON.stringify(k.y,null,"    ")),localStorage.setItem("nicolist",JSON.stringify(k.y)),$("#length").text("("+k.sizeString(Util.bytesize(JSON.stringify(k.y)))+")"),""!==$("#sr").html()&&k.search(k.searchHistory[0]))},k.$emptyElem=function(){return $("<div>",{class:"d-flex flex-row align-items-center"}).append($("<img>",{src:EMPTY,class:"mt-4 ml-4"})).append($("<div>",{class:"ml-4 text-muted"}).append($("<div>",{text:"リストはからっぽです...",class:"pt-4 fs-lg"}).append($("<div>").append($("<span>",{text:"使い方ページは",class:"ml-3"}).append($("<a>",{text:"こちら",class:"ml-1",href:"https://github.com/tkgwku/nicolist/blob/master/README.md",target:"_blank"}))))))},k.refreshFavsLeft=function(){0<k.starred.length?$("#favs").removeClass("disabled"):$("#favs").addClass("disabled"),$("#favlen").text(k.starred.length/2+"")},k.showFavs=function(){$("#left .selected").removeClass("selected"),$("#favs li").addClass("selected"),k.constructRightFav()},k.constructRightFav=function(){$("#right").html("");$("#nicolist_thumb").prop("checked");$("<h4>",{text:"お気に入り"}).append($("<small>",{text:"×",class:"removevideo",title:"お気に入りをクリア",click:function(){k.confirm("お気に入りをクリアしますか?",function(){k.starred=[],k.refreshFavsLeft(),""!==$("#play").html()&&NicolistPlayer.refreshController(),$(".favIcon").each(function(e,t){$(t).attr("src",UNSTAR_DATA_URL)}),k.refresh("s"),localStorage.setItem("nicolist_star",JSON.stringify(k.starred))})}})).appendTo("#right");var e=k.starred;$("#nicolist_sort").prop("checked")&&(e=k.reversePairList(e));Math.ceil($(window).height()/68);for(var t=0;t<e.length/2;t++){var a=e[2*t],i=e[2*t+1];k.rightVideoElem(a,i,"").appendTo("#right")}k.loadImgOnScreen("html, body","#right")},k.toggleFav=function(e,t){for(var a=-1,i=0;i<k.starred.length;i+=2){if(k.starred[i]===e){a=i;break}}return-1===a?(k.starred.push(e),k.starred.push(t),$(".favIcon[data-id="+e+"]").each(function(e,t){$(t).attr("src",STAR_DATA_URL),k.startStarAnimation($(t))}),$("#favs li").hasClass("selected")&&0===$("#right a[data-id="+e+"]").length&&($("#nicolist_sort").prop("checked")?k.rightVideoElem(e,t,"").insertAfter("#right h4"):$("#right").append(k.rightVideoElem(e,t,"")),k.loadImgOnScreen("html, body","#right")),!0):(k.starred.splice(a,2),$(".favIcon[data-id="+e+"]").each(function(e,t){$(t).attr("src",UNSTAR_DATA_URL)}),!1)},k.rightVideoElem=function(e,t,a){var i=$("<div>",{class:"d-flex flex-row align-items-center"}),r=k.createFavIcon(e,t),l=$("<a>",{href:k.getVideoURL(e),target:"_blank","data-genre":a,"data-id":e,"data-title":t,class:"rightvideo",contextmenu:function(e){return k.showMenu(e.pageX,e.pageY,$(e.currentTarget),"right"),!1},click:function(e){"official"!==$("#click_action").val()&&e.preventDefault(),k.openVideo($(e.currentTarget),"right")}});if(i.append(r),$("#nicolist_thumb").prop("checked")||i.addClass("mb-2"),$("#nicolist_thumb").prop("checked")&&l.append(k.createStayUnloadedTNI(e,!1)),$("#nicolist_taggedtitle").prop("checked")){var n=t.match(/【[^【】]+】/g),o=t.match(/\[[^\[\]]+\]/g),s=[],c=t;if(null!==n){for(var d=0;d<n.length;d++)s.push(n[d]);c=c.replace(/【[^【】]+】/g,"")}if(null!==o){for(d=0;d<o.length;d++)s.push(o[d]);c=c.replace(/\[[^\[\]]+\]/g,"")}c=c.replace(/^\s+/g,"").replace(/\s+$/g,""),l.append($("<span>",{text:c,class:"mr-2"})),l.appendTo(i);for(d=0;d<s.length;d++)i.append($("<span>",{text:s[d].slice(1,-1),class:"titletag ml-1",click:function(e){$("#search").val($(e.currentTarget).text()),k.search($(e.currentTarget).text());var t=$("#sr").offset().top-16;t<$("html,body").scrollTop()&&$("html,body").stop().animate({scrollTop:t},"swing")}}))}else l.append($("<span>",{text:t})),l.appendTo(i);return i},k.openVideo=function(e,t){var a=e.attr("data-id"),i=e.attr("data-title"),r=(e.attr("data-genre"),$("#click_action").val());if("thispage"===r)$("#play").html(""),NicolistPlayer.playindex=0,NicolistPlayer.playlist=[a],NicolistPlayer.playlistTitleMap={},NicolistPlayer.playlistTitleMap[a]=i,k.islocal?window.open(Util.domain+"/player.html?pl="+escape(JSON.stringify(NicolistPlayer.playlist))+"&i="+NicolistPlayer.playindex):(NicolistPlayer.createEmbedElem(),NicolistPlayer.refreshController());else if("cont"===r||"randomcont"===r){if($("#play").html(""),"right"===t)NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#right a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")});else if("random"===t)NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#randomVideo a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")});else{if("search"!==t)return;NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#sr a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")})}"randomcont"===r&&(NicolistPlayer.playlist=Util.shuffle(NicolistPlayer.playlist,a)),NicolistPlayer.playindex=$.inArray(a,NicolistPlayer.playlist),-1===NicolistPlayer.playindex&&(NicolistPlayer.playindex=0),k.islocal?window.open(Util.domain+"/player.html?pl="+escape(JSON.stringify(NicolistPlayer.playlist))+"&i="+NicolistPlayer.playindex):(NicolistPlayer.createEmbedElem(),NicolistPlayer.refreshController()),$("html,body").stop().animate({scrollTop:0},"swing")}},k.sizeString=function(e){return e<500?e+" byte":e<5e5?Math.round(100*e/1024)/100+" KB":e<5e8?Math.round(100*e/1024/1024)/100+" MB":Math.round(100*e/1024/1024/1024)/100+" GB"},k.showMenu=function(e,t,r,l){var n=r.attr("data-id"),o=r.attr("data-genre"),s=r.attr("data-title"),c=r.attr("href");$("#menu").children("a").each(function(e,t){var a=$(t).attr("role");if("title"===a)if(c){$(t).html("");var i=$("<a>",{href:c,text:s,target:"_blank"});$(t).append(i)}else $(t).text(s);else"remove"===a?o?($(t).on("click",function(){k.removeVideo(r),k.closeMenu()}),$(t).hasClass("disabled")&&$(t).removeClass("disabled")):$(t).hasClass("disabled")||$(t).addClass("disabled"):"edit"===a?o?($(t).on("click",function(){var e=r.attr("data-id"),t=r.attr("data-title"),a=r.attr("data-genre");$("#editThumb").attr("src",k.getThumbURL(e)),$("#editUrl").text(e),$("#editUrlLink").attr("href",k.getVideoURL(e)),$("#editTitle").val(t),$("#editGenre").val(a),$("#saveEdit").attr("data-title",t),$("#saveEdit").attr("data-genre",a),$("#editModal").modal(),k.closeMenu()}),$(t).removeClass("disabled")):$(t).addClass("disabled"):"play"===a?$(t).on("click",function(){$("#play").html(""),NicolistPlayer.playindex=0,NicolistPlayer.playlist=[n],NicolistPlayer.playlistTitleMap={},NicolistPlayer.playlistTitleMap[n]=s,k.islocal?window.open(Util.domain+"/player.html?pl="+escape(JSON.stringify(NicolistPlayer.playlist))+"&i="+NicolistPlayer.playindex):(NicolistPlayer.createEmbedElem(),NicolistPlayer.refreshController()),k.closeMenu()}):"playall"!==a&&"playall-random"!==a||$(t).on("click",function(){if($("#play").html(""),"right"===l)$(t).removeClass("disabled"),NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#right a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")});else if("random"===l)$(t).removeClass("disabled"),NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#randomVideo a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")});else{if("search"!==l)return void $(t).addClass("disabled");$(t).removeClass("disabled"),NicolistPlayer.playlist=[],NicolistPlayer.playlistTitleMap={},$("#sr a[data-id]").each(function(e,t){var a=$(t).attr("data-id");NicolistPlayer.playlist.push(a),NicolistPlayer.playlistTitleMap[a]=$(t).attr("data-title")})}"playall-random"===a&&(NicolistPlayer.playlist=Util.shuffle(NicolistPlayer.playlist,n)),NicolistPlayer.playindex=$.inArray(n,NicolistPlayer.playlist),-1===NicolistPlayer.playindex&&(NicolistPlayer.playindex=0),k.islocal?window.open(Util.domain+"/player.html?pl="+escape(JSON.stringify(NicolistPlayer.playlist))+"&i="+NicolistPlayer.playindex):(NicolistPlayer.createEmbedElem(),NicolistPlayer.refreshController()),$("html,body").stop().animate({scrollTop:0},"swing"),k.closeMenu()})}),$("#menu").css({display:"inline-block",top:t,left:e}),k.showingMenu=!0},k.closeMenu=function(){$("#menu").css("display","none"),k.showingMenu=!1},k.has=function(e,t){for(var a=k.y[e],i=0;i<a.length/2;i++)if(a[2*i]===t)return!0;return!1},k.addGenre=function(e){return 64<Util.bytesize(e)?(k.message("ジャンル名は64バイト以内に収める必要があります","warning","#alert-genre"),!1):0===Util.bytesize(e)?(k.message("作成するジャンルの名前を入力してください。","warning","#alert-genre"),!1):k.y.hasOwnProperty(e)?(k.message("ジャンル「"+e+"」は既に存在しているようです。","warning","#alert-genre"),!1):(k.pushPrev(),k.y[e]=[],$("#alert-genre").html(""),k.messageUndoable("ジャンル「"+e+"」を追加しました","success",null,"gs"),!0)},k.removeVideo=function(e){var i=e.attr("data-genre"),r=e.attr("data-id"),l=e.attr("data-title");k.confAvoidable("本当に動画「"+Util.cutString(l,50)+"」を削除しますか？",function(){k.pushPrev();for(var e=k.y[i],t=[],a=0;a<e.length/2;a++)e[2*a]!==r&&(t.push(e[2*a]),t.push(e[2*a+1]));k.y[i]=t,k.messageUndoable("動画「"+Util.cutString(l,50)+"」を削除しました","danger",null,"v"),k.refresh("v")})},k.removeGenre=function(e){var a=e.attr("data-genre");k.confirm("本当にジャンル「"+a+"」を削除しますか？\n"+k.y[a].length/2+"個の動画が登録されています。",function(){var e={};for(var t in k.pushPrev(),k.y)a!==t&&(e[t]=k.y[t]);k.y=e,k.messageUndoable("ジャンル「"+a+"」を削除しました","danger",null,"gs"),k.setSelGen(Object.keys(k.y)[0]),k.refresh("gs")})},k.setSelGen=function(e){if(!k.y.hasOwnProperty(e))return k.setSelGen(Object.keys(k.y)[0]),void k.message("前回選択していたジャンルの引き継ぎ時にエラーが発生しました","danger");k.selectedGenre=e,localStorage.setItem("selectedGenre",k.selectedGenre)},k.redo=function(e){var t=Util.copyObj(k.y);k.y=Util.copyObj(k.prevy),k.prevy=t,k.messageUndoable("やり直しました","primary",e.attr("data-wrapper"),e.attr("data-refarg")),k.refresh(e.attr("data-refarg"))},k.undo=function(e){var t=Util.copyObj(k.y);k.y=Util.copyObj(k.prevy),k.prevy=t,k.messageUndoable("もとに戻しました","primary",e.attr("data-wrapper"),e.attr("data-refarg"),null,"redo"),k.refresh(e.attr("data-refarg"))},k.message=function(e,t,a,i,r){void 0===t&&(t="warning"),void 0===a&&(a="#alert"),void 0===i&&(i=!1),-1===$.inArray(t,k.MESSAGE_TYPES)&&(t="warning"),""!==a&&0!==$(a).length||(a="#alert");var l=$("<div>",{class:"alert alert-"+t});i||$("<button>",{type:"button",class:"close",click:function(e){$(e.currentTarget).parent().parent().fadeOut("slow",k.refreshStyle)}}).append($("<span>",{html:"&times;"})).appendTo(l);var n=$("<span>",{text:e});r&&n.append(r),n.appendTo(l),$(a).css("display","none"),$(a).html(""),$(a).append(l),$(a).fadeIn()},k.messageUndoable=function(e,t,a,i,r,l){var n;i=i||"",n="redo"===l?$("<span>",{text:"[やり直す]",class:"undo","data-wrapper":a,"data-refarg":i,click:function(e){k.redo($(e.currentTarget))}}):$("<span>",{text:"[もとに戻す]",class:"undo","data-wrapper":a,"data-refarg":i,click:function(e){k.undo($(e.currentTarget))}}),k.message(e,t,a,r,n)},k.confAvoidable=function(e,t){$("#nicolist_del").prop("checked")?t():"string"===$.type(e)?k.confirm($("<span>",{text:e}),t):k.confirm(e,t)},k.confirm=function(e,t,a){$("#confDialog").html(""),$("#confDialog").append(e),$("#confOK").html("").append($("<button>",{text:"はい",class:"btn btn-primary",click:t,"data-dismiss":"modal"}));var i=$("<button>",{text:"キャンセル",class:"btn btn-secondary","data-dismiss":"modal"});null!==a&&i.on("click",a),$("#confDeny").html("").append(i),$("#confModal").modal("show")},k.pushPrev=function(){k.prevy=Util.copyObj(k.y)},k.randomFromAll=function(){var e={},t=0;for(var a in k.y)e[a]=k.y[a].length,t+=e[a];if(0!==t)for(var i=Math.random()*t,r=0,l=Object.keys(e),n=0;n<l.length;n++){var o=l[n];if(r<i&&r+e[o]>=i){k.random(k.y[o],o);break}r+=e[o]}else k.message("まだ一つも動画が登録されていません")},k.random=function(e,t){if(0!==e.length){var a=Math.floor(Math.random()*(e.length/2)),i=e[2*a],r=e[2*a+1];$("#nicolist_rand").prop("checked")&&$("#randomVideo").html(""),0===$("#random button").length&&$("<button>",{type:"button",class:"close",click:function(e){$("#random").fadeOut("slow",function(){k.refreshStyle(),$("#randomVideo").html("")})}}).append($("<span>",{html:"&times;"})).prependTo("#random");var l=$("<a>",{href:k.getVideoURL(i),target:"_blank","data-genre":t,"data-id":i,"data-title":r,contextmenu:function(e){return k.showMenu(e.pageX,e.pageY,$(e.currentTarget),"random"),!1},click:function(e){"official"!==$("#click_action").val()&&e.preventDefault(),k.openVideo($(e.currentTarget),"random")}}),n=$("<div>",{class:"d-flex align-items-center flex-row"}),o=k.createFavIcon(i,r);n.append(o),$("#nicolist_thumb_res").prop("checked")&&l.append(k.createThumbImgElem(i,$("#nicolist_rand").prop("checked")));var s=$("<span>",{text:r});l.append(s),n.append(l),null!==t&&n.append($("<span>",{text:"("+t+")",class:"ml-2 text-muted"})),n.prependTo("#randomVideo"),$("#random").css("display","block")}else k.message("まだ一つも動画が登録されていません")},k.randomFromRight=function(){var i=[],r=null;$("#right a[data-id]").each(function(e,t){if(i.push($(t).attr("data-id")),i.push($(t).attr("data-title")),null==r){var a=$(t).attr("data-genre");Util.isNull(a)||(r=a)}}),k.random(i,r)},k.refreshStyle=function(){"none"!==$("#history").css("display")&&$("#history").css({top:$("#searchQuery").offset().top+$("#searchQuery").outerHeight(),left:$("#searchQuery").offset().left,"min-width":$("#searchQuery").outerWidth()})},k.createThumbImgElem=function(e,t){var a=$("<img>",{src:k.getThumbURL(e),alt:"No Image",class:"mr-4 img-thumbnail loading "+(t?"full-thumb":"sm-thumb")});return a.on("load",function(e){-1===$.inArray($(e.currentTarget).attr("src"),k.loadedtn)&&k.loadedtn.push($(e.currentTarget).attr("src")),$(e.currentTarget).removeClass("loading")}),a},k.createStayUnloadedTNI=function(e,t){var a=k.getThumbURL(e);return-1===$.inArray(a,k.loadedtn)?$("<img>",{"data-src":a,alt:"No Image",class:"mr-4 img-thumbnail loading "+(t?"full-thumb":"sm-thumb")}):k.createThumbImgElem(e,t)},k.reversePairList=function(e){for(var t=[],a=e.length/2-1;0<=a;a--)t.push(e[2*a]),t.push(e[2*a+1]);return t},k.$starImg=function(e){return(e?$("<img>",{src:STAR_DATA_URL}):$("<img>",{src:UNSTAR_DATA_URL})).addClass("favIcon")},k.startStarAnimation=function(e){var t=e.offset().left-e.width()/2,a=e.offset().top-e.height()/2,i=$("<img>",{width:"32px",height:"32px",src:LARGE_STAR_DATA_URL}),r=$("<div>",{id:"starAnime"}).css({top:a,left:t});r.append(i),$("#body").append(r),i.animate({width:"2px",height:"2px",opacity:0,"margin-left":"15px","margin-top":"15px"},300,function(){$("#starAnime").remove()})},k.createFavIcon=function(e,t){for(var a=-1,i=0,r=k.starred.length;i<r;i+=2){if(k.starred[i]===e){a=i;break}}var l=k.$starImg(-1!==a);return l.addClass("mr-2 pointer").attr({title:"お気に入り","data-id":e,"data-title":t}).on("click",function(e){var t=$(e.currentTarget).attr("data-id"),a=$(e.currentTarget).attr("data-title");k.toggleFav(t,a),k.refreshFavsLeft(),localStorage.setItem("nicolist_star",JSON.stringify(k.starred))}),l},k.MESSAGE_TYPES=["primary","secondary","success","danger","warning","info","light","dark"],k.SEP_DEF_VAL=" 　+",k.IGN_DEF_VAL="",k.debug=!1,k.y={"とりあえず":[]},k.prevy={"とりあえず":[]},k.searchHistory=[],k.selectedGenre="",k.showingMenu=!1,k.islocal=!k.debug&&"file:"===window.location.protocol,k.starred=[],k.lastId="",k.loadedtn=[],k}();